"use strict";exports.id=631,exports.ids=[631],exports.modules={7631:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var a=t(7247),l=t(8964),i=t(1798);function r(){let[e,s]=(0,l.useState)(4),[t,r]=(0,l.useState)(60),[n,c]=(0,l.useState)(24),[o,x]=(0,l.useState)(0),[d,m]=(0,l.useState)(!0),[h,p]=(0,l.useState)(null),[y,u]=(0,l.useState)("compare"),[j,g]=(0,l.useState)(0),[b,f]=(0,l.useState)("0"),[$,k]=(0,l.useState)(90),N=(0,l.useRef)(null),[w,M]=(0,l.useState)([]);(0,l.useRef)(o);let v=(e,s,t)=>({x:e*Math.cos(t*Math.PI/180),y:s}),P=(e,s)=>({x:s*Math.cos(e),y:s*Math.sin(e)}),A=()=>null===h?0:h/n*2*Math.PI%(2*Math.PI),I=e=>{if("compare"===y)return 0===e?"#FF4136":e===h?"#0074D9":"#AAAAAA";if("rainbow"===y){let s=e/n*360;return`hsl(${s}, 100%, 45%)`}if("simpleAcceleration"===y||"simplePosition"===y||"simpleVelocity"===y)return 0===e?"#FF4136":"#AAAAAA"},F=(e,s)=>"compare"===y?0===e&&!0===s||e===h&&!0===s?9:1.5:"rainbow"===y?Math.max(9-e/n*6,3):"simpleAcceleration"===y||"simplePosition"===y||"simpleVelocity"===y?0===e&&!0===s?9:0:void 0,C=e=>{"compare"===y&&0!==e&&p(s=>s===e?null:e)},W=(s=!1)=>{let a=`${(o/e*2%e).toFixed(1)}π`;return s&&((h??0)/n*2).toFixed(1),`y = A \\sin(2\\pi\\\frac{t}{T} ${s?`-${s?"2\\pi\\\frac{x}{\\lambda}":""}`:""}) 
    \\quad ⇔\\quad y=${t.toFixed(0)} \\sin(${a} ${s?`-Δθ`:""}) `},S=(e,s,t,a,l,i)=>Array.from({length:e},(r,n)=>{let c=n/e*t,o=s>c+i?s-c:0,x=o>0?-(o/t*2)*Math.PI:0,d=v(a*Math.cos(x),a*Math.sin(x),l);return{x:d.x,y:d.y,angle:x}}),V=S(n,o,e,t,$,0),D=S(n,o,e,t,$,e),{velocity:q,acceleration:T}=(()=>{let s=2*Math.PI/e,a=-(o/e*2)*Math.PI,l=s*t*Math.sin(a),i=s*t*Math.cos(a),r=-s*s*t*Math.cos(a),n=-s*s*t*Math.sin(a);return{velocity:v(l,i,$),acceleration:v(r,n,$)}})(),E=2*Math.PI/e,R="simplePosition"===y?V[0].y:"simpleVelocity"===y?q.y:"simpleAcceleration"===y?T.y:0,z="simplePosition"===y?t:"simpleVelocity"===y?-E*t:"simpleAcceleration"===y?E*E*t:1,B=w.map(s=>({x:5+s.time/(3*e)*90,y:"simplePosition"===y?50+s.value/Math.abs(z)*t/j*100:50+s.value/Math.abs(z)*z*.2/j*100}));return(0,a.jsxs)("div",{className:"p-4 max-w-4xl mx-auto bg-gradient-to-br from-gray-50 to-gray-100 text-gray-800",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-900",children:"単振動と波動のシミュレーション"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1 bg-white p-4 rounded-lg shadow",children:[(0,a.jsxs)("label",{className:"flex items-center ml-4",children:[a.jsx("input",{type:"radio",name:"mode",value:"simpleVibration",checked:"simplePosition"===y,onChange:()=>{u("simplePosition"),p(null),x(0),M([])},className:"mr-2 accent-indigo-600"}),a.jsx("span",{className:"text-gray-700",children:"単振動モード　"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"mode",value:"compare",checked:"compare"===y,onChange:()=>{u("compare"),p(null),x(0),M([])},className:"mr-2 accent-indigo-600"}),a.jsx("span",{className:"text-gray-700",children:"位相比較モード　"})]}),(0,a.jsxs)("label",{className:"flex items-center ml-4",children:[a.jsx("input",{type:"radio",name:"mode",value:"rainbow",checked:"rainbow"===y,onChange:()=>{u("rainbow"),p(null),x(0),M([])},className:"mr-2 accent-indigo-600"}),a.jsx("span",{className:"text-gray-700",children:"虹色モード　"})]})]}),a.jsx("br",{}),("simpleAcceleration"===y||"simplePosition"===y||"simpleVelocity"===y)&&(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-4 bg-white p-4 rounded-lg shadow",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",checked:"simplePosition"===y,onChange:()=>{u("simplePosition"),x(0),M([])},className:"mr-2 accent-indigo-600"}),a.jsx("span",{className:"text-gray-700",children:"変位を表示"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",checked:"simpleVelocity"===y,onChange:()=>{u("simpleVelocity"),x(0),M([])},className:"mr-2 accent-indigo-600"}),a.jsx("span",{className:"text-gray-700",children:"速度ベクトルを表示"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",checked:"simpleAcceleration"===y,onChange:()=>{u("simpleAcceleration"),x(0),M([])},className:"mr-2 accent-indigo-600"}),a.jsx("span",{className:"text-gray-700",children:"加速度ベクトルを表示"})]})]}),"compare"===y&&(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-4 bg-white p-4 rounded-lg shadow-md",children:[a.jsx("div",{className:" font-bold mb-1 text-gray-700",children:"位相比較モード"}),a.jsx("div",{className:"grid sm:grid-cols-5 md:grid-cols-8 gap-4",children:Array.from({length:n}).map((e,s)=>0!==s&&s%4==0&&(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{type:"radio",id:`point-${s}`,checked:h===s,onChange:()=>C(s),className:"mr-2 accent-indigo-600"}),(0,a.jsxs)("label",{htmlFor:`point-${s}`,className:`${s===h?"text-blue-600":"text-gray-600"} cursor-pointer`,children:[(s/n*360).toFixed(0),"\xb0"]})]},s))})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row  md:space-x-6",children:[a.jsx("div",{ref:N,className:"w-full md:w-1/2 aspect-square relative border border-gray-300 rounded-lg shadow-md bg-white",children:(0,a.jsxs)("svg",{className:"w-full h-full",children:[a.jsx("ellipse",{cx:"50%",cy:"50%",rx:`${t*Math.cos($*Math.PI/180)/j*100}%`,ry:`${t/j*100}%`,stroke:"rgba(0,0,0,0.1)",strokeWidth:"1",fill:"none"}),!("simpleAcceleration"===y||"simpleVelocity"===y)&&a.jsx("line",{x1:"0",y1:`calc(50% + ${V[0].y/j*100}%)`,x2:"100%",y2:`calc(50% + ${V[0].y/j*100}%)`,stroke:"#FF4136",strokeWidth:"1",strokeDasharray:"2 4"}),"compare"===y&&null!==h&&a.jsx("line",{x1:"0",y1:`calc(50% + ${V[h].y/j*100}%)`,x2:"100%",y2:`calc(50% + ${V[h].y/j*100}%)`,stroke:"#0074D9",strokeWidth:"1",strokeDasharray:"2 4"}),V.map((e,s)=>(0,a.jsxs)("g",{children:[(0===s||s===h)&&a.jsx("line",{x1:"50%",y1:"50%",x2:`${50+e.x/j*100}%`,y2:`${50+e.y/j*100}%`,stroke:I(s),strokeWidth:0===s?"1":"0.5"}),a.jsx("circle",{cx:`${50+e.x/j*100}%`,cy:`${50+e.y/j*100}%`,r:F(s,!0),fill:I(s),onClick:()=>C(s),style:{cursor:"pointer"}})]},s)),0===$&&a.jsx("path",{d:`
                  M ${j/2} ${j/2} 
                  L ${j/2+t/10} ${j/2} 
                  A ${t/10} ${t/10} 0 
                  ${o/e*2*Math.PI%(2*Math.PI)>Math.PI?1:0}  
                  0 
                  ${j/2+P(2*Math.PI-o/e*2*Math.PI%(2*Math.PI),t/10).x} 
                  ${j/2+P(2*Math.PI-o/e*2*Math.PI%(2*Math.PI),t/10).y}
                `,fill:"rgba(255, 65, 54, 0.2)",stroke:"#FF4136",strokeWidth:"2"}),0===$&&(0,a.jsxs)("text",{x:j/1.75,y:j/1.8,fontSize:"16",fill:"#FF4136",textAnchor:"middle",dominantBaseline:"middle",children:["θ= ",b,"\xb0"]}),0===$&&"compare"===y&&null!==h&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("path",{d:`
                    M ${j/2} ${j/2} 
                    L ${j/2+P(-(o/e*2)*Math.PI,t).x} 
                      ${j/2+P(-(o/e*2)*Math.PI,t).y} 
                    A ${t} ${t} 0 
                    ${A()>Math.PI?1:0} 
                    1 
                    ${j/2+P((-(o/e)+h/n)*2*Math.PI,t).x} 
                    ${j/2+P((-(o/e)+h/n)*2*Math.PI,t).y}
                    Z 
                  `,fill:"rgba(0, 116, 217, 0.1)",stroke:"#0074D9",strokeWidth:"2"}),(0,a.jsxs)("text",{x:j/2+P(-(2*(o/e-h/n/2))*Math.PI,2*t/3).x,y:j/2+P(-(2*(o/e-h/n/2))*Math.PI,2*t/3).y,fontSize:"16",fill:"#0074D9",textAnchor:"middle",dominantBaseline:"middle",children:["Δθ = ",(180*A()/Math.PI).toFixed(0),"\xb0"]})]}),("simpleAcceleration"===y||"simplePosition"===y||"simpleVelocity"===y)&&(0,a.jsxs)(a.Fragment,{children:["simpleVelocity"===y&&a.jsx("line",{x1:`${50+V[0].x/j*100}%`,y1:`${50+V[0].y/j*100}%`,x2:`${50+(V[0].x+.2*q.x)/j*100}%`,y2:`${50+(V[0].y-.2*q.y)/j*100}%`,stroke:"green",strokeWidth:"1.5",markerEnd:"url(#arrowhead)"}),"simpleAcceleration"===y&&a.jsx("line",{x1:`${50+V[0].x/j*100}%`,y1:`${50+V[0].y/j*100}%`,x2:`${50+(V[0].x+.2*T.x)/j*100}%`,y2:`${50+(V[0].y+.2*T.y)/j*100}%`,stroke:"blue",strokeWidth:"1.5",markerEnd:"url(#arrowhead)"}),a.jsx("defs",{children:a.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto",children:a.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"currentColor"})})})]})]})}),("simplePosition"===y||"simpleVelocity"===y||"simpleAcceleration"===y)&&(0,a.jsxs)("div",{className:"w-full md:w-1/2 aspect-square relative border border-gray-300 rounded-lg shadow-md bg-white",children:[(0,a.jsxs)("svg",{className:"w-full h-full",children:[a.jsx("line",{x1:"5%",y1:"50%",x2:"95%",y2:"50%",stroke:"black",strokeWidth:"1"}),a.jsx("line",{x1:"5%",y1:"5%",x2:"5%",y2:"95%",stroke:"black",strokeWidth:"1"}),!("simpleAcceleration"===y||"simpleVelocity"===y)&&a.jsx("line",{x1:"0",y1:`calc(50% + ${V[0].y/j*100}%)`,x2:"100%",y2:`calc(50% + ${V[0].y/j*100}%)`,stroke:"#FF4136",strokeWidth:"1",strokeDasharray:"2 4"}),Array.from({length:5}).map((e,s)=>a.jsx("line",{x1:`${5+30*s}%`,y1:"48%",x2:`${5+30*s}%`,y2:"52%",stroke:"black",strokeWidth:"1"},s)),Array.from({length:5}).map((e,s)=>a.jsx("line",{x1:"4.5%",y1:`${5+22.5*s}%`,x2:"5.5%",y2:`${5+22.5*s}%`,stroke:"black",strokeWidth:"1"},s)),"simplePosition"===y&&a.jsx("circle",{cx:`${5+o/(3*e)*90}%`,cy:`${50+R/z*t/j*100}%`,r:F(0,!0),fill:I(0),onClick:()=>C(0),style:{cursor:"pointer"}}),"simplePosition"===y&&B.map((e,s)=>a.jsx("circle",{cx:`${e.x}%`,cy:`${e.y}%`,r:2,fill:"red"},s)),"simpleVelocity"===y&&a.jsx("line",{x1:`${5+o/(3*e)*90}%`,y1:"50%",x2:`${5+o/(3*e)*90}%`,y2:`${50-.2*q.y/j*100}%`,stroke:"green",strokeWidth:"1.5",markerEnd:"url(#arrowhead)"}),"simpleVelocity"===y&&B.map((e,s)=>a.jsx("circle",{cx:`${e.x}%`,cy:`${e.y}%`,r:2,fill:"green"},s)),"simpleAcceleration"===y&&a.jsx("line",{x1:`${5+o/(3*e)*90}%`,y1:"50%",x2:`${5+o/(3*e)*90}%`,y2:`${50+.2*T.y/j*100}%`,stroke:"blue",strokeWidth:"1.5",markerEnd:"url(#arrowhead)"}),"simpleAcceleration"===y&&B.map((e,s)=>a.jsx("circle",{cx:`${e.x}%`,cy:`${e.y}%`,r:2,fill:"blue"},s)),a.jsx("defs",{children:a.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto",children:a.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"currentColor"})})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-6 flex justify-between px-2 text-gray-600",children:Array.from({length:4}).map((s,t)=>(0,a.jsxs)("div",{className:"text-xs",children:[(3*e*t/3).toFixed(1),"s"]},t))})]}),("compare"===y||"rainbow"===y)&&(0,a.jsxs)("div",{className:"w-full md:w-1/2 aspect-square relative border border-gray-300 rounded-lg shadow-md bg-white",children:[(0,a.jsxs)("svg",{className:"w-full h-full",children:[a.jsx("line",{x1:"0",y1:`calc(50% + ${V[0].y/j*100}%)`,x2:"100%",y2:`calc(50% + ${V[0].y/j*100}%)`,stroke:"#FF4136",strokeWidth:"1",strokeDasharray:"2 4"}),"compare"===y&&null!==h&&a.jsx("line",{x1:"0",y1:`calc(50% + ${V[h].y/j*100}%)`,x2:"100%",y2:`calc(50% + ${V[h].y/j*100}%)`,stroke:"#0074D9",strokeWidth:"1",strokeDasharray:"2 4"}),V.map((e,s)=>a.jsx("circle",{cx:`${3+s/n*50}%`,cy:`${50+e.y/j*100}%`,r:F(s,!0),fill:I(s)},`1-${s}`)),D.map((e,s)=>a.jsx("circle",{cx:`${53+s/n*50}%`,cy:`${50+e.y/j*100}%`,r:F(s,!1),fill:I(s)},`2-${s}`))]}),a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-6 flex justify-between px-2 text-gray-600",children:Array.from({length:5}).map((e,s)=>a.jsx("div",{className:"text-xs",children:n/4*s},s))})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap m-6 p-4 bg-white shadow rounded items-center space-x-4 space-y-2 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("label",{className:"text-gray-700",children:["周期 : T= ",e.toFixed(1),"  "]}),a.jsx("button",{onClick:()=>s(e=>Math.min(e+.5,10)),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition duration-150",children:"+"}),a.jsx("button",{onClick:()=>s(e=>Math.max(e-.5,1)),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition duration-150",children:"-"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("label",{className:"text-gray-700",children:["半径 : A= ",t.toFixed(0)]}),a.jsx("button",{onClick:()=>r(e=>Math.min(e+5,.45*j)),className:"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 transition duration-150",children:"+"}),a.jsx("button",{onClick:()=>r(e=>Math.max(e-5,20)),className:"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 transition duration-150",children:"-"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("label",{className:"text-gray-700",children:["点の数: ",n]}),a.jsx("button",{onClick:()=>c(e=>Math.min(e+8,80)),className:"px-3 py-1 bg-purple-500 text-white rounded hover:bg-purple-600 transition duration-150",children:"+"}),a.jsx("button",{onClick:()=>c(e=>Math.max(e-8,8)),className:"px-3 py-1 bg-purple-500 text-white rounded hover:bg-purple-600 transition duration-150",children:"-"})]})]}),a.jsx("div",{className:"flex flex-wrap m-6 p-4 bg-white shadow rounded items-center space-x-4 space-y-2 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("br",{}),(0,a.jsxs)("label",{className:"text-gray-700",children:["回転角度: ",$,"\xb0"]}),a.jsx("input",{type:"range",min:"0",max:"90",value:$,onChange:e=>k(Number(e.target.value)),className:"w-64 accent-indigo-600"})]})}),(0,a.jsxs)("div",{className:"space-y-4 bg-white p-4 rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>{x(0),M([])},className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition duration-150",children:"Reset"}),a.jsx("button",{onClick:()=>m(!d),className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition duration-150",children:d?"Stop":"Start"}),a.jsx("input",{type:"range",min:0,max:3*e,step:e/80,value:o,onChange:e=>{x(Number(e.target.value)),m(!1)},className:"w-64 accent-indigo-600"}),(0,a.jsxs)("span",{className:"text-gray-700",children:["Time: ",o.toFixed(1),"s ",a.jsx(i.InlineMath,{math:(()=>{let s=Math.floor(o/e),t=Math.floor(o/e*8%8);return`\\left(=${s} T+ \\frac{${t}}{8} T\\right)`})()})]})]}),(0,a.jsxs)("div",{className:"text-gray-800",children:["赤色の位相：  ",a.jsx(i.InlineMath,{math:`\\theta = 2\\pi \\times \\frac{t}{T} \\quad ⇔\\quad \\theta =2\\pi \\times \\frac{${(o%e).toFixed(1)}}{${e.toFixed(1)}} = ${(()=>{let s=o%e/e*2;return`${s.toFixed(1)} \\pi`})()}[rad](${b}\xb0)`})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-red-600",children:["赤色の変位： ",a.jsx(i.InlineMath,{math:W()})]}),"compare"===y&&null!==h&&(0,a.jsxs)("div",{className:"text-blue-600 mt-2",children:["青色の変位： ",a.jsx(i.InlineMath,{math:W(!0)}),"　,　",a.jsx(i.InlineMath,{math:`\\Delta \\theta = ${(A()/Math.PI).toFixed(1)}\\pi ( ${(180*A()/Math.PI).toFixed(0)}\xb0 `}),"）"]})]})]}),a.jsx("br",{}),a.jsx("p",{children:"説明："}),(0,a.jsxs)("p",{children:["【単振動モード】",a.jsx("br",{}),"単振動の変位、速度、加速度を表示します。",a.jsx("br",{}),"回転角度を変化させることができ、単振動と円運動の関係を確認できます。"]}),(0,a.jsxs)("p",{children:["【位相比較モード】",a.jsx("br",{}),"2つの波の位相を比較し、干渉の様子を確認できます。",a.jsx("br",{}),"青色は赤色の波より位相が遅れて振動していることが確認できます。"]}),(0,a.jsxs)("p",{children:["【虹色モード】",a.jsx("br",{}),"波の位相を比較し、干渉の様子を確認できます。",a.jsx("br",{}),"単振動が円運動の射影であることを確認できます。"]})]})}t(2289)}};